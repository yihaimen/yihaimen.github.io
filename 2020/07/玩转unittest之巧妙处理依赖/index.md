# 玩转UnitTest之巧妙处理依赖


## 0x00 引言
大家好，我是以卖码为生的海门。今天想和大家探讨一下如何巧妙处理依赖，玩转 UnitTest。

我们平时使用的网络请求库 Axios ，时间格式化库 moment 等，这些对我们的项目来说都是依赖，可以说依赖无处不在，它的存在更容易发起网络请求，格式化时间等，但同样也带来了问题 - 很难为代码编写单元测试。

## 0x01 让我们开始吧
在正式进入主题之前，我会先告诉你，为了让我们的单测达到 F.A.I.R 原则的标准，我们需要解决的问题是：
1. 使用良好的设计，对依赖进行解耦，尽可能去除依赖；
2. 实在去除不了的依赖，使用一些技术进行替代，我们称这些技术叫测试替身 - 包括 Dummy、Fake、Stub、Mock和Spy。

需求：调用一条API获取用户图像，然后显示在页面上，失败了的话就显示一个默认的图像。

通过简单的需求分析和任务拆分，都会认为这个需求很简单。可是我们如何为它写自动化测试呢？没有写过UT的我，刚开始也是很懵的。跟我刚开始被要求为功能写单元测试的时候一样懵，完全不知道从那入手，怎么编写测试~我在搜索引擎中找到了一个解决方法，即借助Spike解决方案。

什么是Spike解决方案，怎么做技术分解 -> 另外写一篇文章

## 0x02 总结

## 0x03 参考
